<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Experimentos a escala masiva</title>
    <meta charset="utf-8" />
    <meta name="author" content="Irvin Rojas" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis-fonts.css" rel="stylesheet" />
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="libs/cide.css" type="text/css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap-grid.min.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: title-slide



.title[
# Clase 7. Experimentos a escala masiva
]
.subtitle[
## Evaluación de Programas
]
.author[
### Irvin Rojas &lt;br&gt; [rojasirvin.com](https://www.rojasirvin.com/) &lt;br&gt; [&lt;i class="fab fa-github"&gt;&lt;/i&gt;](https://github.com/rojasirvin) [&lt;i class="fab fa-twitter"&gt;&lt;/i&gt;](https://twitter.com/RojasIrvin) [&lt;i class="ai ai-google-scholar"&gt;&lt;/i&gt;](https://scholar.google.com/citations?user=FUwdSTMAAAAJ&amp;hl=en)
]

.affiliation[
### Centro de Investigación y Docencia Económicas &lt;br&gt; División de Economía
]

---
# Agenda

1. Estudiaremos una intervención en seis países para enfatizar las características de un experimento aleatorio y el análisis del mismo

1. Reconoceremos distintos elementos del diseño y de la econometría que se emplean en las evaluaciones experimentales

---

class: inverse, middle, center

# Experimentos a escala masiva

---

# Un programa multifacético causa progresos duraderos para los pobres

- Banerjee y una larga lista de coautores (2015)

- Hasta ahora habíamos analizado intervenciones con tratamientos aleatorizados que se restringían a una región o país

--

- Un fenómeno en el corazón del estudio de la economía del desarrollo es identificar las condiciones que provocan que las personas vivan en pobreza y, por tanto, identificar intervenciones que permitan mejorar el nivel de vida de la gente

- ¿Qué piensan? ¿Debemos hacer cosas para combatir la pobreza?

---

# El programa

- Intervención de gran escala en seis países: Etiopía, Ghana, Honduras, India, Pakistán y Perú

- ¿En qué consistió la intervención?

--

- Programa *holístico*

  - Activos
  - Transferencias para comida
  - Entrenamiento para negocios
  - Acompañamiento (*coaching*)
  - Productos de ahorro
  - Educación para la salud
  
---
  
# Diseño

- ¿Cómo se decidió quién recibiría el programa?

--

- En tres países hubo una aleatorización individual

--

  - En cada una de las localidades participantes se eligieron aleatoriamente a los hogares participantes
  
- En otros tres, hubo una aletorización agrupada (*clustered*)

--

  - De las localidades participantes, primero se asignaron localidades a tratamiento y localidades a control
  
  - En las localidades de tratamiento, se aleatorizaron los hogares que recibieron el tratamiento
  
  - Permite identificar la presencia de efectos de derramamiento o *spillovers*
  
---

# Integridad del diseño

- Aquí tenemos dos tablas del [apéndice](https://dspace.mit.edu/bitstream/handle/1721.1/97047/Duflo_A%20multi-faceted%20paper%20and%20SI.pdf?sequence=1&amp;isAllowed=y) del artículo

- ¿A qué equivale la tabla de *ortogonalidad* en el lenguaje que hemos usado hasta ahora?

- ¿Qué nos dice el panel A? ¿Cuál es la `\(H_0\)`?

- ¿Qué nos dice el panel B? ¿A qué le ponemos atención aquí?

- ¿Qué se concluye?

---

# Integridad del diseño


&lt;div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:80%; "&gt;&lt;table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;border-bottom: 0;'&gt;
 &lt;thead&gt;
&lt;tr&gt;&lt;th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; font-weight: bold; padding-right: 4px; padding-left: 4px; background-color: white !important;position: sticky; top:0; background-color: #FFFFFF;" colspan="4"&gt;&lt;div style="TRUE"&gt;Ortogonalidad&lt;/div&gt;&lt;/th&gt;&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"&gt; (1) &lt;/th&gt;
   &lt;th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"&gt; (2) &lt;/th&gt;
   &lt;th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"&gt; (3) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Consumo per cápita &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Índice seguridad alimentaria &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Índice activos &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Panel A: Prueba de diferencia de medias &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Control &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0000 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0000 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0124) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0124) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0124) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Tratamiento &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -0.0323 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -0.0033 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0277 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0140) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0165) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0188) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Valor `p` &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0979 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.8735 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.2019 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Panel B: Regresión &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Tratamiento &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -0.0310 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0050 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0180 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.020) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0210) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0220) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; `R` cuadrada &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0000 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0000 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0010 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;tfoot&gt;&lt;tr&gt;&lt;td style="padding: 0; " colspan="100%"&gt;
&lt;span style="font-style: italic;"&gt;Nota:&lt;/span&gt; &lt;sup&gt;&lt;/sup&gt; Apéndice en Banerjee et al. (2015).&lt;/td&gt;&lt;/tr&gt;&lt;/tfoot&gt;
&lt;/table&gt;&lt;/div&gt;


---

# Integridad del diseño

- ¿Cómo interpretamos los resultados sobre atrición presentados?

- ¿Cuál es la `\(H_0\)` en cada panel?

&lt;div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:60%; "&gt;&lt;table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;border-bottom: 0;'&gt;
 &lt;thead&gt;
&lt;tr&gt;&lt;th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; font-weight: bold; padding-right: 4px; padding-left: 4px; background-color: white !important;position: sticky; top:0; background-color: #FFFFFF;" colspan="3"&gt;&lt;div style="TRUE"&gt;Atrición&lt;/div&gt;&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;th style="empty-cells: hide;position: sticky; top:0; background-color: #FFFFFF;" colspan="1"&gt;&lt;/th&gt;
&lt;th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; font-weight: bold; padding-right: 4px; padding-left: 4px; background-color: white !important;position: sticky; top:0; background-color: #FFFFFF;" colspan="2"&gt;&lt;div style="TRUE"&gt;Variable dependiente: encuesta completada&lt;/div&gt;&lt;/th&gt;
&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"&gt; (1) &lt;/th&gt;
   &lt;th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"&gt; (2) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Ronda 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Ronda 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Panel A &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Tratamiento &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0079 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0095 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0054) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0060) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Media &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.940 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.91 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Panel B &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Tratamiento &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0073 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0090 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0054) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0060) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Consumo per cápita &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0000 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0030) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0030) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Índice activos &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0068*** &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0080*** &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0023) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0025) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Índice salud mental &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0000 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -0.0065** &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0028) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0032) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Panel C &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Tratamiento &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0087 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.0091 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0069) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.0078) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Características línea base &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Sí &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Sí &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Características línea base x Tratamiento &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Sí &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Sí &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Media atrición &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.94 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.91 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Valor `p` &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.75 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.17 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;tfoot&gt;&lt;tr&gt;&lt;td style="padding: 0; " colspan="100%"&gt;
&lt;span style="font-style: italic;"&gt;Nota:&lt;/span&gt; &lt;sup&gt;&lt;/sup&gt; Apéndice en Banerjee et al. (2015).&lt;/td&gt;&lt;/tr&gt;&lt;/tfoot&gt;
&lt;/table&gt;&lt;/div&gt;

---

# Integridad del diseño

- ¿A se refiere el término cumplimiento o *complience*?

- ¿Qué significa que la tasa de cumplimiento en India sea de 52%?

--

- ¿Por qué se dice que el análisis presentado es uno de intención de tratamiento (*intention to treat*, ITT)

--

- Se comparan hogares **asignados** al tratamiento con hogares asignados al control, sin importar si efectivamente lo recibieron o no


---

# Efectos de tratamiento

- Se estima una sola ecuación con todas las observaciones para cada variable de interés

`$$Y^k_i=\alpha + \beta_1 T_i + \beta Z_i^k + P_i + S_i + E_i + \varepsilon_i$$`

- `\(T_i\)` es el indicador de asignación al tratamiento

- `\(Z_i\)` es el valor de la variable de interés en la línea base

- `\(P_i\)` son variables indicadoras por país

- `\(S_i\)` son variables indicadoras de si la encuesta fue una encuesta *corta*

- `\(E_i\)` son variables indicadores de estratificación 

---

# Variable dependiente

- ¿Cómo se construye `\(Y^k_i\)`?

--

- Consideremos primero una sola variable, digamos el consumo per capita de comida

- Esto es `\(Y^{k}_{ijl}\)` del hogar `\(i\)` en el país `\(l\)` y donde `\(k=\text{consumo de alimentos}\)`

- La variable consumo de comida es parte de la familia de consumo `\(j=consumo\)`

- Se construye un `\(z\)`-*score* para cada variable restándole la media del grupo de control en la ronda en donde se evalúa el impacto en el país `\(l\)` y se le divide por la desviación estándar

--

- En seguida, para cada familia `\(j\)`, tomamos los `\(z\)`-*score* de las variables que pertenecen a dicha familia y obtenemos la media y la desviación estándar para cada país `\(l\)` y ronda

- Finalmente `\(Y^k_i\)` resulta de estandarizar cada `\(Y^{k}_{ijl}\)`


---

# Efectos de tratamiento


.pull-left[
- ¿Cuál es la evidencia (tabla o gráfica) más importante que resume los efectos del programa?

- ¿Qué se encuentra?
]

--

.pull-right[
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="figures/sixcountries_treatmenteffect.png" alt="Fuente: Banerjee et al. (2015)" width="85%" /&gt;
&lt;p class="caption"&gt;Fuente: Banerjee et al. (2015)&lt;/p&gt;
&lt;/div&gt;
]

---

# Efectos de derramamiento

- ¿Cómo podemos identificar los efectos de derramamiento en los países en donde hubo localidades enteras sin ningún hogar tratado?

- En los casos de Ghana, Honduras y Perú hay tres tipos de hogares:

  - Tratados en localidades tratadas
  
  - No tratados en localidades tratadas
  
  - No tratado en localidades no tratadas (control)

--

- Podemos comparar a los no tratados en las localidades de tratamiento con los no tratados en las localidades de control


---
# Próxima sesión

- Un laboratorio en R sobre regresión y métodos experimentales

  - Será muy útil si le echan un ojo a la Tarea 1
  

- El jueves hablaré sobre cómo estimar el LATE usando variables instrumentales

  - Angrist, J. D. (2006). Instrumental variables methods in experimental criminological research: what, why and how. *Journal of Experimental Criminology*, 2(1), 23-44.

---

class: center, middle

Presentación creada usando el paquete [**xaringan**](https://github.com/yihui/xaringan) en R.

El *chakra* viene de [remark.js](https://remarkjs.com), [**knitr**](http://yihui.org/knitr), y [R Markdown](https://rmarkdown.rstudio.com).

Material de clase en versión preliminar.

**No reproducir, no distribuir, no citar.**


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script src="libs/cols_macro.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
