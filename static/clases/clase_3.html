<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Evaluación experimental</title>
    <meta charset="utf-8" />
    <meta name="author" content="Irvin Rojas" />
    <script src="libs/header-attrs-2.9/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis-fonts.css" rel="stylesheet" />
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="libs/cide.css" type="text/css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap-grid.min.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: title-slide



.title[
# Clase 3. Evaluación experimental
]
.subtitle[
## Evaluación de Programas
]
.author[
### Irvin Rojas &lt;br&gt; [rojasirvin.com](https://www.rojasirvin.com/) &lt;br&gt; [&lt;i class="fab fa-github"&gt;&lt;/i&gt;](https://github.com/rojasirvin) [&lt;i class="fab fa-twitter"&gt;&lt;/i&gt;](https://twitter.com/RojasIrvin) [&lt;i class="ai ai-google-scholar"&gt;&lt;/i&gt;](https://scholar.google.com/citations?user=FUwdSTMAAAAJ&amp;hl=en)
]

.affiliation[
### Centro de Investigación y Docencia Económicas &lt;br&gt; División de Economía
]

---
# Agenda

1. Describiremos el experimento ideal

1. Motivaremos un modelo de regresión a partir de un modelo de efectos constantes

1. Aprenderemos a leer tablas de resultados

  - Pruebas de balance
  
  - Efectos de tratamiento

---

class: inverse, middle, center

# El experimento ideal

---

# El efecto de los hospitales

- ¿Los hospitales hacen que la gente sea más sana?

- Podemos conseguir datos de encuestas sobre cuántas veces las personas han ido al hospital en el último año


&lt;table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'&gt;
 &lt;thead&gt;
&lt;tr&gt;&lt;th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; font-weight: bold; padding-right: 4px; padding-left: 4px; background-color: white !important;" colspan="4"&gt;&lt;div style="TRUE"&gt;El efecto de los hospitales&lt;/div&gt;&lt;/th&gt;&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Grupo &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; N &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Salud (0-5) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Error estándar &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hospitalizados &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 7,774 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 3.21 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.014 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; No hospitalizados &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 90,049 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 3.93 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.003 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Diferencia &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.72 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; (t) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (58.9) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

--


- ¿Tiene sentido? ¿Los hospitales enferman?

- ¿Qué sucede?



---

# Comparaciones observacionales

- Pensemos de nuevo en términos del *Modelo de Rubin* de resultados potenciales

`$$y_{i}=\begin{cases}
y_{1i}=1\quad\text{si }D_i=1\\
y_{0i}=0 \quad \text{si } D_i=0
\end{cases}$$`


- Solo vemos al individuo en una situación, `\(y_i\)`:

`$$y_i=y_{0i}+(y_{1i}-y_{0i})D_i$$`
--

- ¿Qué nos dicen las comparaciones observacionales?

- Supongamos que tenemos acceso a datos sobre tratados y no tratados

- Podemos calcular `\(E(y_i|D_i=1)-E(y_i|D_i=0)\)`:

$$
`\begin{aligned}
E(y_i|D_i=1)-E(y_i|D_i=0)=&amp;E(y_{1i}|D_i=1)-E(y_{oi}|D_i=0)+\\&amp; \underbrace{E(y_{0i}|D_i=1)-E(y_{0i}|D_i=1)}_0 
\end{aligned}`
$$
---

# Sesgo de selección


- Reordenando:

$$
`\begin{aligned}
E(y_i|D_i=1)-E(y_i|D_i=0)=&amp;\overbrace{ E(y_{1i}|D_i=1)-E(y_{0i}|D_i=1)}^{\text{Efecto promedio en los tratados}}+\\&amp; \underbrace{E(y_{0i}|D_i=1)-E(y_{oi}|D_i=0)}_{\text{Sesgo de selección}}
\end{aligned}`
$$

- El primer término nos da la diferencia promedio en la variable de salud entre los hospitalizados y lo que les hubiera pasado si no hubieran sido hospitalizados

- En nuestro ejemplo, el **sesgo de selección** es la diferencia en salud entre los hospitalizados y los no hospitalizados

- Específicamente, si quienes van al hospital tienen una peor salud, podemos esperar que `\(E(y_{0i}|D_i=1)-E(y_{oi}|D_i=0)&lt;0\)`

---

# Sesgo de selección

- Al hacer aseveraciones basadas en comparaciones observacionales se incluye el efecto causal del tratamiento, pero también el sesgo de selección

- El sesgo de selección puede ser positivo o negativo

- El objetivo de las estrategias de evaluación es eliminar el sesgo de selección

---

# Tratamiento aleatorio

- Supongamos que tenemos la posibilidad de aleatorizar el tratamiento, es decir, hacer que `\(Y_i\)` y `\(D_i\)` sean independientes

- En ese caso, por independencia: `\(E(Y_{0i}|D_i=0)=E(Y_{0i}|D_i=1)\)`

- De la definición de comparación observacional:

$$
`\begin{aligned}
E(y_i|D_i=1)-E(y_i|D_i=0)=&amp;E(y_{1i}|D_i=1)-E(y_{0i}|D_i=0)
\end{aligned}`
$$

- Sustituyendo el resultado de independencia:

$$
`\begin{aligned}
E(y_i|D_i=1)-E(y_i|D_i=0)&amp;=E(y_{1i}|D_i=1)-E(y_{0i}|D_i=1) \\
&amp; =E(y_{1i}-y_{0i}|D_i=1) \\
&amp; =\underbrace{E(y_{1i}-y_{0i})}_{\text{Efecto causal}}
\end{aligned}`
$$

---

# No siempre es factible

- La aleatorización resuelve muchas cosas, pero muchas veces no es factible

- ¿Qué tendríamos que hacer en el caso de estudio, "¿Los hospitales matan?"

--

- Pensemos en un programa de empleo para ex convictos

- Seguramente una comparación observacional indicaría que estos ganan menos que el resto de la población

- Pero esto no significa que el programa cause un efecto negativo en el ingreso

- Siempre tenemos que pensar en el contrafactual

---

# El experimento STAR

- ¿En qué consistió?

--

- Dos tipos de tratamiento:

  - `\(T_1\)`: clase pequeña (13-17) con maestro de tiempo completo
  - `\(T_2\)`: tamaño normal pero con asistente para el maestro
  
- Un grupo `\(C\)` al que no se le hizo cambio alguno (22.3 alumnos en promedio)

--

- ¿Cuál es el efecto de tener clases más pequeñas?

- ¿Por qué esto sería relevante? ¿Qué implicaciones de política tendría?

---

# El balance

.pull-left[

- ¿Qué vemos en la Tabla 2.2.1 de MHE

- ¿Qué nos indican los valores `\(p\)`?

- ¿Cuál es la hipótesis nula?

- ¿Qué significa *atrición*?

- ¿Se logró el objetivo del experimento?

]

.pull-right[

&lt;table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;border-bottom: 0;'&gt;
 &lt;thead&gt;
&lt;tr&gt;&lt;th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; font-weight: bold; padding-right: 4px; padding-left: 4px; background-color: white !important;" colspan="5"&gt;&lt;div style="TRUE"&gt;Balance de observables&lt;/div&gt;&lt;/th&gt;&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Variable &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; `T_1` &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; `C` &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; `T_2` &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; `p` &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Lunch gratis &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.48 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.5 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.09 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Blanco / asiático &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.68 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.67 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.66 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.26 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Edad (1985) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 5.44 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 5.43 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 5.42 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.32 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Atrición &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.49 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.52 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.53 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.02 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Tamaño de clase &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 15.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 22.4 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 22.8 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Calificación &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 54.7 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 48.9 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;tfoot&gt;&lt;tr&gt;&lt;td style="padding: 0; " colspan="100%"&gt;
&lt;span style="font-style: italic;"&gt;Nota:&lt;/span&gt; &lt;sup&gt;&lt;/sup&gt; Tomada de Angrist y Pischke (2009), Tabla 2.2.1.&lt;/td&gt;&lt;/tr&gt;&lt;/tfoot&gt;
&lt;/table&gt;
]


---

# Desventajas

- Tiempo

- Costo: 12 millones de USD del proyecto STAR

- Preocupaciones legales y éticas

--

- A veces es posible hacer experimentos, a veces es muy difícil y a veces es imposible

- Usando métodos no experimentales, Angrist y Lavy (1999) encuentran resultados parecidos (pero con otros métodos)

---


---

class: inverse, middle, center

# Motivación con un modelo de efectos constantes


---

# Regresión para la idenfiticación de efectos causales

- Con fines de simplificación, asumamos un efecto de tratamiento constante: `\(y_{1i}-y_{0i}=\rho\)`

- Consideremos el valor observado para un individuo 
`$$y_i=y_{0i}+(y_{1i}-y_{0i})D_i$$`

- Sumemos y restemos `\(E(y_{0i})\)`:

$$
`\begin{aligned}
y_i&amp;=E(y_{0i})+(y_{1i}-y_{0i})D_i+y_{0i}-E(y_{0i}) \\
&amp;=\underbrace{\alpha}_{E(y_{0i})}+\underbrace{\rho}_{(y_{1i}-y_{0i})} D_i + \underbrace{\nu_i}_{y_{0i}-E(y_{0i})}
\end{aligned}`
$$

- Ahora evaluemos:

$$
`\begin{aligned}
&amp;E(y|D_i=1)=\alpha+\rho+E(\nu_i|D_i=1) \\
&amp;E(y|D_i=0)=\alpha+E(\nu_i|D_i=0)
\end{aligned}`
$$

---

# Regresión para la idenfiticación de efectos causales

- Restando

$$
`\begin{aligned}
E(y|D_i=1)-E(y|D_i=0)&amp;=\rho+\overbrace{E(\nu_i|D_i=1)-E(\nu_i|D_i=0)}^{\text{Sesgo de selección}} \\
&amp;=\rho+E(y_{0i}|D_i=1)-E(y_{0i}|D_i=0)
\end{aligned}`
$$
- Es decir, el sesgo de selección es igual a la correlación entre el término de error y `\(D_i\)`

- Y, de acuerdo a la segunda línea, también es igual a la diferencia en el resultado potencial (de no tratamiento), entre aquellos que son tratados y los que no son tratados

- En nuestro ejemplo del hospital, es muy probable que el sesgo de selección sea negativo porque los tratados son quienes tienen peor salud (en el estado no tratado)

- Como vimos antes, con asignación aleatoria, el sesgo de selección desaparece, por lo que una regresión de `\(y_i\)` en `\(D_i\)` estima el efecto causal `\(\rho\)`

---

# Regresión como herramienta

- Usaremos muy frecuentemente la regresión para la estimación de efectos causales

- La interpretación causal de los estimadores no surge de la herramienta, sino del diseño

- Debemos tener en mente siempre si los estimadores están o no libres del sesgo de selección

- Antes vimos que en el experimento STAR las medias de las calificaciones entre grupos eran distintas

- La regresión nos servirá para hacer esencialmente lo mismo: comparación de `\(y_i\)` entre grupos


---

# El impacto de STAR con regresión

La Tabla 2.2.2 en MHE muestra los efectos de tratamiento estimados con regresión: 

`$$calificacion_i=\alpha+\beta_1 T_{1i} + \beta_2 T_{2i} + B'X_i + u_i$$`

&lt;table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;border-bottom: 0;'&gt;
 &lt;thead&gt;
&lt;tr&gt;&lt;th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; font-weight: bold; padding-right: 4px; padding-left: 4px; background-color: white !important;" colspan="5"&gt;&lt;div style="TRUE"&gt;Efectos experimentales del tamaño del grupo en las calificaciones&lt;/div&gt;&lt;/th&gt;&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Variable explicativa &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; (1) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; (2) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; (3) &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; (4) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; `T_1`: Clase pequeña &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 4.82 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 5.37 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 5.36 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 5.37 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (2.19) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (1.26) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (1.21) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (1.19) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; `T_2`: Clase pequeña y asistente &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.12 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.53 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.31 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (2.23) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (1.13) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (1.09) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (1.07) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Efectos fijos de escuela &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Sí &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Sí &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Sí &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Controles &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; No &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; `X_1` &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; `X_1+X_2` &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;tfoot&gt;&lt;tr&gt;&lt;td style="padding: 0; " colspan="100%"&gt;
&lt;span style="font-style: italic;"&gt;Nota:&lt;/span&gt; &lt;sup&gt;&lt;/sup&gt; Tabla 2.2.2 en Angrist y Pischke (2009)&lt;/td&gt;&lt;/tr&gt;&lt;/tfoot&gt;
&lt;/table&gt;

---

# El impacto de STAR con regresión

- ¿Cómo se obtienen los resultados de esta tabla?

- ¿Qué se deduce sobre los distintos tratamientos?

- ¿Cuál es la variable dependiente?

- ¿Cuál es la variable independiente clave?

---

# Regresión corta y larga

- Con un tratamiento binario y asignado aleatoriamente, podemos estimar el efecto usando una regresión:

`$$y_i=\alpha+\beta T_i + u_i$$`

- Es muy común, sin embargo, usar **controles**

- Si una serie de características `\(X\)` no está correlacionada con `\(T_i\)`, se puede incluir en una versión larga de la regresión antes descrita:

`$$y_i=\alpha+\beta T_i + X_i'\gamma + u_i$$`
- El valor numérico de `\(\hat{\beta}\)` en la regresión larga será muy cercano al obtenido con la regresión corta, pero se incrementa la precisión de los parámetros estimados

- Dado que emplearemos regresión ampliamente en este curso, es necesario fijar algunas ideas sobre cómo entendemos y cómo usamos la regresión en la práctica

---
# Próxima sesión

- Analizaremos el papel de la regresión en el análisis de efectos de tratamiento

  - MHE, Capítulo 3

- Avancemos con un ejemplo de un experimento:

  - Baird, S., McIntosh, C., &amp; Özler, B. (2011). Cash or condition? Evidence from a cash transfer experiment. The *Quarterly journal of economics*, 126(4), 1709-1753.


---

class: center, middle

Presentación creada usando el paquete [**xaringan**](https://github.com/yihui/xaringan) en R.

El *chakra* viene de [remark.js](https://remarkjs.com), [**knitr**](http://yihui.org/knitr), y [R Markdown](https://rmarkdown.rstudio.com).

Material de clase en versión preliminar.

**No reproducir, no distribuir, no citar.**


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script src="libs/cols_macro.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
